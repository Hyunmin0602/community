# 검색 엔진 로직 종합 점검 보고서

## 1. 시스템 개요
현재 커뮤니티의 검색 엔진은 **하이브리드 방식(Hybrid Search)**을 채택하고 있으며, **전통적인 키워드 매칭**과 **AI 기반 의도 분석**을 결합하여 결과를 도출합니다.

## 2. 핵심 알고리즘 분석

### A. 의도 분석 (Intent Analysis)
- **도구**: Google Gemini Pro (`gemini-flash-latest`)
- **기능**: 사용자 검색어를 입력받아 다음 정보를 추출합니다.
  - **카테고리**: `GUIDE`(가이드), `RESOURCE`(자료), `PROBLEM`(질문/오류), `NAVIGATION`(이동), `GENERAL`(일반)
  - **필터**: Java/Bedrock 에디션 구분, 태그 추출
  - **키워드**: 핵심 단어 추출 (불용어 제거 및 의미 단위 추출)
- **특징**: 단순 단어 일치가 아닌 사용자의 **목적(Intent)**을 파악하여 관련성 점수에 반영합니다.

### B. 스코어링 시스템 (Scoring System)
검색 결과의 순위는 **기본 점수(Base Score)**와 **보너스 점수(Bonuses)**의 합으로 결정됩니다.

#### 1) 기본 점수 (Base Score)
3가지 핵심 지표와 가중치를 곱하여 산출합니다.
> **Formula**: `(Trust * 5.0) + (Relevance * 3.0) + (Accuracy * 1.0)`

| 지표 | 가중치 | 설명 |
|---|---|---|
| **Trust (신뢰도)** | **5.0** (매우 높음) | 공식 인증(Official), 에디터 추천 등 검증된 콘텐츠 우대 |
| **Relevance (관련성)** | 3.0 (높음) | 콘텐츠 자체의 주제 적합도 |
| **Accuracy (정확도)** | 1.0 (낮음) | 정보의 정확성 (현재는 대부분 기본값 사용) |

*등급별 점수*: S(100), A(80), B(50), C(20), F(-50)
*  예: S등급 Trust = 100 * 5.0 = **500점**

#### 2) 보너스 점수 (Bonuses)
상황에 따라 추가 점수를 부여하여 동적인 순위 조정을 수행합니다.

| 항목 | 점수 | 조건 |
|---|---|---|
| **제목 일치** | **+200** | 검색어가 제목에 포함될 경우 |
| **의도 매칭** | **+100 ~ +200** | AI가 분석한 의도와 콘텐츠 타입이 일치할 경우<br>(예: "서버 추천해줘" -> 서버 콘텐츠 +200점) |
| **최신성** | +100 | 최근 7일 이내 작성된 콘텐츠 |
| **설명/태그 일치** | +50 | 본문이나 태그에 검색어나 포함될 경우 |
| **조회수** | Max +50 | 조회수(또는 다운로드 수)에 따라 로그 스케일로 가산 |

## 3. 로직 점검 및 평가

### ✅ 강점 (Pros)
1.  **신뢰성 중심 설계**: Trust 가중치가 매우 높아(5.0), 스팸이나 질 낮은 콘텐츠가 상위에 노출될 확률이 낮습니다.
2.  **맥락 인식**: "서버 추천"이라고 검색하면 서버 목록이 상단에 뜨고, "오류 해결"을 검색하면 위키나 팁 게시글이 뜨도록 설계되어 사용자 경험(UX)이 우수합니다.
3.  **유연한 확장성**: `SearchContent`라는 통합 테이블을 사용하여 게시글, 서버, 위키 등 다양한 형태의 데이터를 유연하게 검색할 수 있습니다.

### ⚠️ 개선 필요 사항 (Cons) & 제안
1.  **조회수 영향력 과소 평가**:
    - 현재 조회수 보너스는 최대 50점으로, S등급 Trust(500점)의 10% 수준입니다. 인기 있는 콘텐츠가 신뢰도 등급을 뒤집고 올라오기 힘든 구조입니다.
    - **제안**: 조회수 보너스 상한을 100~150점으로 상향하거나, 가중치를 조정하여 트렌딩 콘텐츠 반영률을 높일 필요가 있습니다.

2.  **AI 의존성 리스크**:
    - Gemini API 응답이 늦거나 실패할 경우, 의도 분석 관련 보너스(+200)가 누락되어 검색 품질이 급격히 저하될 수 있습니다.
    - **제안**: API 타임아웃을 짧게 설정하고, 실패 시 키워드 기반의 간단한 룰(정규식 등)을 백업 로직으로 추가하는 것이 좋습니다.

3.  **Accuracy 지표 활용 미비**:
    - 현재 Accuracy 가중치가 1.0으로 낮고 데이터도 B등급으로 획일화되어 있어 사실상 죽은 지표입니다.
    - **제안**: 사용자 투표나 신고 횟수 등을 Accuracy 지표와 연동하여 자동화된 품질 관리가 되도록 개선할 수 있습니다.

## 4. 결론
현재 로직은 **"정확하고 신뢰할 수 있는 정보 제공"**이라는 커뮤니티의 목적에 매우 잘 부합하게 설계되어 있습니다. 특히 AI 기반의 의도 분석은 차별화된 검색 경험을 제공합니다. 다만, 커뮤니티 활성화를 위해 **인기 콘텐츠(조회수, 좋아요 등)**의 반영 비율을 조금 더 높이는 튜닝을 고려해볼 만합니다.
